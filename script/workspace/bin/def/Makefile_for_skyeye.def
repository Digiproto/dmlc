# The file is automatically created, don't edit it.
# The file.def is created by eJim Lee (lyjforjob@gmail.com)
SKYEYE_DIR = @SKYEYE_DIR@

CFLAGS := -Wall -fPIC
LDFLAGS := -shared

CURR_DIR := $(shell pwd)
OBJ_NAME := $(shell basename $(CURR_DIR))
ifeq ($(shell uname),Linux)
libname := lib$(OBJ_NAME).so
else
libname := lib$(OBJ_NAME).dll
endif
INCLUDES := -I$(SKYEYE_DIR)/common/include/

$(libname): $(OBJ_NAME).o $(OBJ_NAME)_module.o
	gcc $(LDFLAGS) -o $(libname) $^

%.o: %.c
	gcc $(CFLAGS) -c -o $@ $^ $(INCLUDES)
