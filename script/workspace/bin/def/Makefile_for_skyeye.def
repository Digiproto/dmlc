# The file is automatically created, don't edit it.
# The file.def is created by eJim Lee (lyjforjob@gmail.com)
SKYEYE_DIR = @SKYEYE_DIR@

CFLAGS := -Wall -fPIC
LDFLAGS := -shared
CC = gcc

CURR_DIR := $(shell pwd)
OBJ_NAME := $(shell basename $(CURR_DIR))
ifeq ($(shell uname),Linux)
libname := lib$(OBJ_NAME).so
LIBRARY_DIR =
LIBRARY =
else
libname := lib$(OBJ_NAME).dll
LIBRARY_DIR = -L../../../bin/library
LIBRARY = -lcommon
endif
INCLUDES := -I$(SKYEYE_DIR)/common/include/

$(libname): $(OBJ_NAME).o $(OBJ_NAME)_module.o
	@echo [LD] $@
	@$(CC) $(LDFLAGS) -o $(libname) $^ $(LIBRARY) $(LIBRARY_DIR)

%.o: %.c
	@echo [CC] $@
	@$(CC) $(CFLAGS) -c -o $@ $^ $(INCLUDES)
